<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="iomotorsport Esports - Competitive sim racing coverage. Events, team standings, driver rankings, and race results across iRacing, ACC, Gran Turismo, and more."
    />
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />
    <meta name="author" content="iomotorsport" />
    <meta
      name="keywords"
      content="esports racing, sim racing, iRacing, ACC, Gran Turismo, esports events, championships"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://iomotorsport.com/og-image-esports.jpg"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:url" content="https://iomotorsport.com/esports.html" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Esports Racing | iomotorsport" />
    <meta
      name="twitter:description"
      content="Competitive sim racing coverage. Events, team standings, driver rankings, and race results across iRacing, ACC, Gran Turismo, and more."
    />
    <meta
      name="twitter:image"
      content="https://iomotorsport.com/og-image-esports.jpg"
    />
    <link rel="canonical" href="https://iomotorsport.com/esports.html" />
    <link
      rel="icon"
      type="image/png"
      href="images/logos/iomotorsport-logo.png"
    />
    <title>Esports Racing | iomotorsport</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* Esports Page Specific Styles */
      .events-grid {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .event-card {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 25px 30px;
        display: grid;
        grid-template-columns: 100px 1fr auto;
        gap: 30px;
        align-items: center;
        transition: all 0.3s;
      }

      .event-card:hover {
        border-color: rgba(230, 57, 70, 0.4);
        transform: translateX(5px);
      }

      .event-card.next-event {
        border-color: #e63946;
        background: rgba(230, 57, 70, 0.08);
      }

      .event-date {
        text-align: center;
        padding: 15px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
      }

      .event-month {
        font-size: 0.75rem;
        color: #e63946;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-weight: 700;
      }

      .event-day {
        font-size: 2rem;
        font-weight: 900;
        color: #fff;
        font-family: "Orbitron", monospace;
        line-height: 1;
        margin: 5px 0;
      }

      .event-year {
        font-size: 0.75rem;
        color: #666;
      }

      .event-info h4 {
        font-size: 1.2rem;
        color: #fff;
        margin-bottom: 8px;
        font-family: "Orbitron", monospace;
      }

      .event-details {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        font-size: 0.9rem;
        color: #888;
      }

      .event-series-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 4px;
        font-size: 0.7rem;
        font-weight: 700;
        text-transform: uppercase;
        margin-right: 10px;
      }

      .event-status {
        text-align: right;
      }

      .status-badge {
        display: inline-block;
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
      }

      .status-upcoming {
        background: rgba(255, 193, 7, 0.15);
        color: #ffc107;
      }
      .status-next {
        background: rgba(230, 57, 70, 0.2);
        color: #e63946;
        animation: statusPulse 2s infinite;
      }
      .status-completed {
        background: rgba(40, 167, 69, 0.15);
        color: #28a745;
      }

      @keyframes statusPulse {
        0%,
        100% {
          box-shadow: 0 0 0 0 rgba(230, 57, 70, 0.4);
        }
        50% {
          box-shadow: 0 0 0 8px rgba(230, 57, 70, 0);
        }
      }

      /* Team/Driver Rankings */
      .rankings-table {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        overflow: hidden;
      }

      .ranking-row {
        display: grid;
        grid-template-columns: 50px 1fr auto auto;
        gap: 25px;
        padding: 20px 25px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        align-items: center;
        transition: all 0.3s;
      }

      .ranking-row:hover {
        background: rgba(230, 57, 70, 0.05);
      }

      .ranking-row:last-child {
        border-bottom: none;
      }

      .rank-position {
        font-family: "Orbitron", monospace;
        font-weight: 900;
        font-size: 1.3rem;
        color: #e63946;
        text-align: center;
      }

      .rank-info h4 {
        color: #fff;
        font-size: 1rem;
        margin-bottom: 5px;
        font-family: "Inter", sans-serif;
        font-weight: 600;
      }

      .rank-platform {
        color: #888;
        font-size: 0.85rem;
      }

      .rank-stats {
        display: flex;
        gap: 25px;
        text-align: right;
      }

      .rank-stat {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
      }

      .rank-value {
        font-weight: 700;
        color: #fff;
        font-family: "Orbitron", monospace;
      }

      .rank-label {
        font-size: 0.75rem;
        color: #666;
        text-transform: uppercase;
      }

      /* Platform Filter */
      .platform-filters {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 30px;
      }

      .platform-filter {
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 0.8rem;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s;
        border: 1px solid;
        background: transparent;
      }

      .platform-filter.iracing {
        border-color: #e63946;
        color: #e63946;
      }
      .platform-filter.acc {
        border-color: #007bff;
        color: #007bff;
      }
      .platform-filter.gt {
        border-color: #ffc107;
        color: #ffc107;
      }
      .platform-filter.f1 {
        border-color: #28a745;
        color: #28a745;
      }

      .platform-filter:hover,
      .platform-filter.active {
        transform: translateY(-2px);
      }

      .platform-filter.iracing:hover,
      .platform-filter.iracing.active {
        background: rgba(230, 57, 70, 0.2);
      }
      .platform-filter.acc:hover,
      .platform-filter.acc.active {
        background: rgba(0, 123, 255, 0.2);
      }
      .platform-filter.gt:hover,
      .platform-filter.gt.active {
        background: rgba(255, 193, 7, 0.2);
      }
      .platform-filter.f1:hover,
      .platform-filter.f1.active {
        background: rgba(40, 167, 69, 0.2);
      }

      /* Summary Cards */
      .summary-card {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        overflow: hidden;
        margin-bottom: 20px;
        transition: all 0.3s;
      }

      .summary-card:hover {
        border-color: rgba(230, 57, 70, 0.3);
      }

      .summary-header {
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 25px;
        padding: 25px 30px;
        align-items: center;
        background: rgba(0, 0, 0, 0.2);
      }

      .summary-platform {
        padding: 8px 16px;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
      }

      .summary-platform.iracing {
        background: rgba(230, 57, 70, 0.2);
        color: #e63946;
      }
      .summary-platform.acc {
        background: rgba(0, 123, 255, 0.2);
        color: #007bff;
      }

      .summary-event h4 {
        color: #fff;
        font-size: 1.2rem;
        margin-bottom: 5px;
        font-family: "Orbitron", monospace;
      }

      .summary-event p {
        color: #888;
        font-size: 0.9rem;
      }

      .summary-finish {
        text-align: right;
      }

      .finish-label {
        font-size: 0.7rem;
        color: #888;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .finish-position {
        color: #fff;
        font-weight: 600;
        font-size: 1.2rem;
      }

      .summary-body {
        padding: 25px 30px;
      }

      .summary-highlights {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }

      .highlight {
        display: flex;
        gap: 15px;
        align-items: flex-start;
      }

      .highlight-icon {
        font-size: 1.5rem;
      }

      .highlight-content h5 {
        color: #fff;
        font-size: 0.9rem;
        margin-bottom: 5px;
        font-family: "Inter", sans-serif;
        font-weight: 600;
      }

      .highlight-content p {
        color: #888;
        font-size: 0.85rem;
      }

      /* Lap Records Challenge */
      .records-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
      }

      .record-card {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 16px;
        overflow: hidden;
        transition: all 0.3s;
        position: relative;
      }

      .record-card:hover {
        border-color: rgba(230, 57, 70, 0.4);
        transform: translateY(-5px);
        box-shadow: 0 10px 40px rgba(230, 57, 70, 0.15);
      }

      .record-card.legendary {
        border-color: rgba(255, 215, 0, 0.4);
      }

      .record-card.legendary:hover {
        box-shadow: 0 10px 40px rgba(255, 215, 0, 0.2);
      }

      .record-header {
        padding: 20px;
        background: rgba(0, 0, 0, 0.3);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .record-track {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .track-flag {
        font-size: 1.5rem;
      }

      .track-info h4 {
        color: #fff;
        font-size: 1rem;
        font-family: "Orbitron", monospace;
        margin-bottom: 3px;
      }

      .track-info span {
        color: #888;
        font-size: 0.8rem;
      }

      .difficulty-badge {
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.7rem;
        font-weight: 700;
        text-transform: uppercase;
      }

      .difficulty-beginner {
        background: rgba(40, 167, 69, 0.2);
        color: #28a745;
      }
      .difficulty-intermediate {
        background: rgba(255, 193, 7, 0.2);
        color: #ffc107;
      }
      .difficulty-hard {
        background: rgba(255, 87, 34, 0.2);
        color: #ff5722;
      }
      .difficulty-legendary {
        background: linear-gradient(
          135deg,
          rgba(255, 215, 0, 0.3),
          rgba(230, 57, 70, 0.3)
        );
        color: #ffd700;
      }

      .record-body {
        padding: 25px 20px;
      }

      .record-time-display {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 30px;
        margin-bottom: 20px;
      }

      .current-record {
        text-align: center;
      }

      .record-label {
        font-size: 0.7rem;
        color: #888;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 5px;
      }

      .record-time {
        font-family: "Orbitron", monospace;
        font-size: 2rem;
        font-weight: 900;
        color: #e63946;
        text-shadow: 0 0 20px rgba(230, 57, 70, 0.4);
      }

      .record-holder {
        margin-top: 5px;
        font-size: 0.85rem;
        color: #aaa;
      }

      .record-holder strong {
        color: #fff;
      }

      .vs-divider {
        font-family: "Orbitron", monospace;
        color: #444;
        font-size: 1.2rem;
        font-weight: 700;
      }

      .your-target {
        text-align: center;
      }

      .target-time {
        font-family: "Orbitron", monospace;
        font-size: 1.5rem;
        font-weight: 700;
        color: #28a745;
      }

      .record-details {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .record-detail {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.85rem;
        color: #888;
      }

      .record-detail span {
        color: #fff;
      }

      .record-footer {
        padding: 15px 20px;
        background: rgba(0, 0, 0, 0.2);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .attempts-count {
        font-size: 0.85rem;
        color: #888;
      }

      .attempts-count strong {
        color: #e63946;
        font-family: "Orbitron", monospace;
      }

      .challenge-btn {
        padding: 10px 20px;
        background: linear-gradient(135deg, #e63946, #c62834);
        border: none;
        border-radius: 8px;
        color: #fff;
        font-weight: 700;
        font-size: 0.85rem;
        cursor: pointer;
        transition: all 0.3s;
        font-family: "Orbitron", monospace;
        text-transform: uppercase;
      }

      .challenge-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(230, 57, 70, 0.4);
      }

      .challenge-tips {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 12px;
        padding: 25px 30px;
        margin-top: 30px;
      }

      .challenge-tips h3 {
        color: #fff;
        font-family: "Orbitron", monospace;
        margin-bottom: 15px;
        font-size: 1.1rem;
      }

      .tips-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
      }

      .tip-item {
        display: flex;
        gap: 12px;
        align-items: flex-start;
      }

      .tip-icon {
        font-size: 1.2rem;
        flex-shrink: 0;
      }

      .tip-text {
        font-size: 0.9rem;
        color: #aaa;
      }

      .leaderboard-preview {
        margin-top: 20px;
      }

      .leaderboard-row {
        display: grid;
        grid-template-columns: 40px 1fr auto;
        padding: 12px 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        align-items: center;
      }

      .leaderboard-row:last-child {
        border-bottom: none;
      }

      .lb-position {
        font-family: "Orbitron", monospace;
        font-weight: 700;
        color: #e63946;
      }

      .lb-driver {
        color: #fff;
        font-weight: 500;
      }

      .lb-time {
        font-family: "Orbitron", monospace;
        color: #888;
      }

      @media (max-width: 768px) {
        .event-card {
          grid-template-columns: 1fr;
          text-align: center;
        }

        .event-date {
          margin: 0 auto;
        }

        .event-status {
          text-align: center;
        }

        .ranking-row {
          grid-template-columns: 1fr;
          text-align: center;
        }

        .rank-stats {
          justify-content: center;
        }

        .summary-header {
          grid-template-columns: 1fr;
          text-align: center;
        }

        .summary-finish {
          text-align: center;
        }

        .record-time-display {
          flex-direction: column;
          gap: 15px;
        }

        .vs-divider {
          display: none;
        }

        .records-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "name": "Esports Racing | iomotorsport",
        "description": "Competitive sim racing, team updates, and online tournaments.",
        "url": "https://iomotorsport.com/esports.html",
        "publisher": {
          "@type": "Organization",
          "name": "iomotorsport"
        },
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://iomotorsport.com/"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Esports",
              "item": "https://iomotorsport.com/esports.html"
            }
          ]
        }
      }
    </script>
    <!-- Google Consent Mode v2 - Must be before gtag -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      // Set default consent to denied (required for GDPR)
      gtag("consent", "default", {
        ad_storage: "denied",
        ad_user_data: "denied",
        ad_personalization: "denied",
        analytics_storage: "denied",
        wait_for_update: 500,
      });
    </script>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-SLERGKLNWP"
    ></script>
    <script>
      gtag("js", new Date());
      gtag("config", "G-SLERGKLNWP");
    </script>
    <!-- Google AdSense - Auto Ads enabled in AdSense dashboard -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2456627863532019"
      crossorigin="anonymous"
    ></script>
    <!-- Cookie Consent Manager -->
    <script src="js/cookie-consent.js" defer></script>
  </head>
  <body>
    <!-- Navigation -->
    <header>
      <div class="container">
        <div class="header-content">
          <a href="index.html" class="logo">
            <div class="logo-icon">
              <img
                src="images/logos/iomotorsport-logo.png"
                alt="iomotorsport logo"
              />
            </div>
            io<span>motorsport</span>
          </a>
          <nav>
            <ul class="nav-links">
              <li><a href="index.html">Home</a></li>
              <li><a href="endurance.html">Endurance</a></li>
              <li><a href="esports.html" class="active">Esports</a></li>
              <li><a href="predictions.html">Predictions</a></li>
              <li><a href="hub.html" class="nav-cta">Hub</a></li>
            </ul>
            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
              ‚ò∞
            </button>
          </nav>
        </div>
        <div class="mobile-nav" id="mobileNav">
          <a href="index.html">Home</a>
          <a href="endurance.html">Endurance</a>
          <a href="esports.html" class="active">Esports</a>
          <a href="predictions.html">Predictions</a>
          <a href="hub.html">Hub</a>
        </div>
      </div>
    </header>

    <main id="main-content">
      <!-- Page Hero -->
      <section class="page-hero">
        <div class="container">
          <span class="section-tag">Competitive Coverage</span>
          <h1>Esports <span class="gradient-text">Racing</span></h1>
          <p>
            Complete coverage of sim racing championships. Events, driver
            rankings, team standings, and race results across all platforms.
          </p>
        </div>
      </section>

      <!-- Quick Nav Tabs -->
      <section class="section" style="padding-top: 40px">
        <div class="container">
          <div class="tabs" style="justify-content: center">
            <button class="tab-btn active" onclick="showSection('events')">
              üìÖ Events
            </button>
            <button class="tab-btn" onclick="showSection('standings')">
              üèÜ Standings
            </button>
            <button class="tab-btn" onclick="showSection('results')">
              üèÅ Results
            </button>
            <button class="tab-btn" onclick="showSection('records')">
              ‚ö° Lap Challenges
            </button>
          </div>
        </div>
      </section>

      <!-- Events Section -->
      <section class="section" id="events-section">
        <div class="container">
          <div
            class="section-header"
            style="text-align: left; margin-bottom: 30px"
          >
            <h2>Upcoming Events</h2>
            <p>Featured esports racing events across platforms</p>
          </div>

          <div class="tabs">
            <button class="tab-btn active" data-platform="all">
              All Platforms
            </button>
            <button class="tab-btn" data-platform="iracing">iRacing</button>
            <button class="tab-btn" data-platform="acc">ACC</button>
            <button class="tab-btn" data-platform="gt">Gran Turismo</button>
            <button class="tab-btn" data-platform="f1">F1 Esports</button>
          </div>

          <div class="events-grid" id="events-grid">
            <div style="text-align: center; padding: 40px; color: #888">
              <p>Loading events...</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Standings Section -->
      <section class="section" id="standings-section" style="display: none">
        <div class="container">
          <div
            class="section-header"
            style="text-align: left; margin-bottom: 30px"
          >
            <h2>Championship Standings</h2>
            <p>Current season driver rankings</p>
          </div>

          <div class="platform-filters">
            <button
              class="platform-filter iracing active"
              data-platform="iracing"
            >
              iRacing GT3
            </button>
            <button class="platform-filter acc" data-platform="acc">
              ACC GT3
            </button>
            <button class="platform-filter gt" data-platform="gt">
              Gran Turismo
            </button>
            <button class="platform-filter f1" data-platform="f1">
              F1 Series
            </button>
          </div>

          <div class="rankings-table">
            <div
              class="ranking-row"
              style="background: rgba(0, 0, 0, 0.3); font-weight: 700"
            >
              <div class="rank-position">Pos</div>
              <div>Driver</div>
              <div class="rank-stats">
                <div class="rank-stat">
                  <span class="rank-label">Wins</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-label">Podiums</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-label">Points</span>
                </div>
              </div>
            </div>
            <div class="ranking-row">
              <div class="rank-position">1</div>
              <div>
                <h4>Alex Velocity</h4>
                <span class="rank-platform">iRacing GT3 Series</span>
              </div>
              <div class="rank-stats">
                <div class="rank-stat">
                  <span class="rank-value">23</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">45</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">2,480</span>
                </div>
              </div>
            </div>
            <div class="ranking-row">
              <div class="rank-position">2</div>
              <div>
                <h4>Mike Chen</h4>
                <span class="rank-platform">iRacing LMP2 Series</span>
              </div>
              <div class="rank-stats">
                <div class="rank-stat">
                  <span class="rank-value">18</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">35</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">2,240</span>
                </div>
              </div>
            </div>
            <div class="ranking-row">
              <div class="rank-position">3</div>
              <div>
                <h4>Maria Santos</h4>
                <span class="rank-platform">ACC GT3 Championship</span>
              </div>
              <div class="rank-stats">
                <div class="rank-stat">
                  <span class="rank-value">12</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">28</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">1,890</span>
                </div>
              </div>
            </div>
            <div class="ranking-row">
              <div class="rank-position">4</div>
              <div>
                <h4>Liam Murphy</h4>
                <span class="rank-platform">ACC Endurance Series</span>
              </div>
              <div class="rank-stats">
                <div class="rank-stat">
                  <span class="rank-value">8</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">18</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">1,640</span>
                </div>
              </div>
            </div>
            <div class="ranking-row">
              <div class="rank-position">5</div>
              <div>
                <h4>Sophie Turner</h4>
                <span class="rank-platform">Gran Turismo Nations Cup</span>
              </div>
              <div class="rank-stats">
                <div class="rank-stat">
                  <span class="rank-value">14</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">32</span>
                </div>
                <div class="rank-stat">
                  <span class="rank-value">1,520</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Results Section -->
      <section class="section" id="results-section" style="display: none">
        <div class="container">
          <div
            class="section-header"
            style="text-align: left; margin-bottom: 30px"
          >
            <h2>Recent Results</h2>
            <p>Latest race results and highlights</p>
          </div>

          <div id="results-container">
            <div style="text-align: center; padding: 40px; color: #888">
              <p>Loading results...</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Lap Records Challenge Section -->
      <section class="section" id="records-section" style="display: none">
        <div class="container">
          <div
            class="section-header"
            style="text-align: left; margin-bottom: 30px"
          >
            <h2>üî• Beat the <span class="gradient-text">Legends</span></h2>
            <p>
              Challenge yourself against famous esports lap records. Can you
              match the pace of the pros?
            </p>
          </div>

          <div class="platform-filters">
            <button
              class="platform-filter iracing active"
              data-record-platform="all"
            >
              All Tracks
            </button>
            <button class="platform-filter acc" data-record-platform="iracing">
              iRacing
            </button>
            <button class="platform-filter gt" data-record-platform="acc">
              ACC
            </button>
            <button class="platform-filter f1" data-record-platform="gt">
              Gran Turismo
            </button>
          </div>

          <div class="records-grid" id="records-grid">
            <div style="text-align: center; padding: 40px; color: #888">
              <p>Loading lap challenges...</p>
            </div>
          </div>

          <div class="challenge-tips">
            <h3>üí° Pro Tips for Beating Records</h3>
            <div class="tips-grid">
              <div class="tip-item">
                <span class="tip-icon">üéØ</span>
                <p class="tip-text">
                  Focus on consistency first, then push for speed. Build up to
                  the record pace gradually.
                </p>
              </div>
              <div class="tip-item">
                <span class="tip-icon">üéÆ</span>
                <p class="tip-text">
                  Study the track layout and braking points. Watch onboard
                  videos from record holders.
                </p>
              </div>
              <div class="tip-item">
                <span class="tip-icon">‚öôÔ∏è</span>
                <p class="tip-text">
                  Use similar car setups to the record holders when available
                  for fair comparison.
                </p>
              </div>
              <div class="tip-item">
                <span class="tip-icon">üìä</span>
                <p class="tip-text">
                  Use telemetry tools to analyze your laps and find areas for
                  improvement.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-grid">
          <div class="footer-brand">
            <a href="index.html" class="logo">
              <div class="logo-icon">
                <img
                  src="images/logos/iomotorsport-logo.png"
                  alt="iomotorsport logo"
                />
              </div>
              io<span>motorsport</span>
            </a>
            <p>
              Your complete motorsport experience. Racing coverage, esports,
              predictions, and analysis.
            </p>
          </div>

          <div class="footer-links">
            <h4>Racing</h4>
            <a href="endurance.html">Endurance</a>
            <a href="endurance.html#calendar">Calendar</a>
            <a href="endurance.html#entries">Entry Lists</a>
            <a href="predictions.html">Predictions</a>
          </div>

          <div class="footer-links">
            <h4>Content</h4>
            <a href="hub.html">Blog</a>
            <a href="esports.html">Esports Team</a>
          </div>

          <div class="footer-links">
            <h4>More</h4>
            <a href="about.html">About Us</a>
            <a href="contact.html">Contact</a>
            <a href="privacy-policy.html">Privacy Policy</a>
          </div>
        </div>

        <div class="footer-bottom">
          <p>&copy; 2026 iomotorsport. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      let esportsData = {};

      function toggleMobileMenu() {
        document.getElementById("mobileNav").classList.toggle("active");
      }

      function showSection(sectionId) {
        document.querySelectorAll('[id$="-section"]').forEach((section) => {
          if (section.id !== "main-content") {
            section.style.display = "none";
          }
        });
        document.getElementById(sectionId + "-section").style.display = "block";

        const tabs = document.querySelector(".section > .container > .tabs");
        if (tabs && event?.target) {
          tabs
            .querySelectorAll(".tab-btn")
            .forEach((btn) => btn.classList.remove("active"));
          event.target.classList.add("active");
        }
      }

      function formatDate(dateString) {
        const date = new Date(dateString);
        const months = [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sep",
          "Oct",
          "Nov",
          "Dec",
        ];
        return {
          month: months[date.getUTCMonth()],
          day: date.getUTCDate(),
          year: date.getUTCFullYear(),
        };
      }

      function getPlatformBadgeClass(platform) {
        const classes = {
          iRacing: "badge-red",
          ACC: "badge-blue",
          "Gran Turismo": "badge-yellow",
          "F1 24": "badge-green",
        };
        return classes[platform] || "badge-red";
      }

      function createEventCardHTML(event) {
        const dateParts = formatDate(event.date);
        const badgeClass = getPlatformBadgeClass(event.platform);
        const driverCount = event.drivers ? event.drivers.length : 0;

        return `
          <div class="event-card">
            <div class="event-date">
              <span class="event-month">${dateParts.month}</span>
              <span class="event-day">${dateParts.day}</span>
              <span class="event-year">${dateParts.year}</span>
            </div>
            <div class="event-info">
              <h4>
                <span class="event-series-badge ${badgeClass}">${event.platform}</span>${event.event}
              </h4>
              <div class="event-details">
                <span>üéÆ ${driverCount} ${driverCount === 1 ? "driver" : "drivers"}</span>
              </div>
            </div>
            <div class="event-status">
              <span class="status-badge status-upcoming">Upcoming</span>
            </div>
          </div>
        `;
      }

      function createResultCardHTML(result, driver) {
        const dateParts = formatDate(result.date);
        const positionEmojis = { 1: "ü•á", 2: "ü•à", 3: "ü•â" };
        const platformClass = result.platform === "iRacing" ? "iracing" : "acc";
        const positionIcon = positionEmojis[result.position] || "üìç";

        return `
          <div class="summary-card">
            <div class="summary-header">
              <span class="summary-platform ${platformClass}">${result.platform}</span>
              <div class="summary-event">
                <h4>${result.event}</h4>
                <p>${dateParts.month} ${dateParts.day}, ${dateParts.year} ‚Ä¢ ${result.class}</p>
              </div>
              <div class="summary-finish">
                <span class="finish-label">Finish</span>
                <span class="finish-position">P${result.position}</span>
              </div>
            </div>
            <div class="summary-body">
              <div class="summary-highlights">
                <div class="highlight">
                  <span class="highlight-icon">${positionIcon}</span>
                  <div class="highlight-content">
                    <h5>${driver.name} Performance</h5>
                    <p>${driver.name} delivered strong pace in the ${result.class} class.</p>
                  </div>
                </div>
                <div class="highlight">
                  <span class="highlight-icon">üéØ</span>
                  <div class="highlight-content">
                    <h5>Championship Points</h5>
                    <p>Secured valuable championship points with a P${result.position} finish.</p>
                  </div>
                </div>
                <div class="highlight">
                  <span class="highlight-icon">üèÜ</span>
                  <div class="highlight-content">
                    <h5>${result.platform} Competition</h5>
                    <p>Competed against top drivers in this competitive ${result.platform} event.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
      }

      function renderEvents(platform = "all") {
        const container = document.getElementById("events-grid");
        if (!container) return;

        let events = esportsData.upcomingEvents || [];
        if (platform !== "all") {
          events = events.filter((e) => e.platform === platform);
        }

        if (events.length === 0) {
          container.innerHTML =
            '<div style="text-align: center; padding: 40px; color: #888;"><p>No events found</p></div>';
          return;
        }
        container.innerHTML = events
          .map((e) => createEventCardHTML(e))
          .join("");
      }

      function renderResults() {
        const container = document.getElementById("results-container");
        if (!container) return;

        const results = (esportsData.recentResults || []).slice(0, 3);
        if (results.length === 0) {
          container.innerHTML =
            '<div style="text-align: center; padding: 40px; color: #888;"><p>No results found</p></div>';
          return;
        }

        container.innerHTML = results
          .map((r) => {
            const driver = esportsData.drivers?.find(
              (d) => d.id === r.driver,
            ) || { name: "Driver" };
            return createResultCardHTML(r, driver);
          })
          .join("");
      }

      function createRecordCardHTML(record) {
        const difficultyClass = `difficulty-${record.difficulty}`;
        const legendaryClass =
          record.difficulty === "legendary" ? "legendary" : "";
        const targetTime = calculateTargetTime(record.time);

        return `
          <div class="record-card ${legendaryClass}">
            <div class="record-header">
              <div class="record-track">
                <span class="track-flag">${record.flag}</span>
                <div class="track-info">
                  <h4>${record.track}</h4>
                  <span>${record.platform} ‚Ä¢ ${record.car}</span>
                </div>
              </div>
              <span class="difficulty-badge ${difficultyClass}">${record.difficulty}</span>
            </div>
            <div class="record-body">
              <div class="record-time-display">
                <div class="current-record">
                  <div class="record-label">Record to Beat</div>
                  <div class="record-time">${record.time}</div>
                  <div class="record-holder">Set by <strong>${record.holder}</strong></div>
                </div>
                <div class="vs-divider">VS</div>
                <div class="your-target">
                  <div class="record-label">Bronze Target</div>
                  <div class="target-time">${targetTime}</div>
                </div>
              </div>
              <div class="record-details">
                <div class="record-detail">üìÖ <span>${record.dateSet}</span></div>
                <div class="record-detail">üèÜ <span>${record.event}</span></div>
              </div>
            </div>
            <div class="record-footer">
              <span class="attempts-count"><strong>${record.attempts.toLocaleString()}</strong> community attempts</span>
              <button class="challenge-btn" onclick="startChallenge('${record.id}')">Accept Challenge</button>
            </div>
          </div>
        `;
      }

      function calculateTargetTime(recordTime) {
        // Add roughly 2-3% to record time for bronze target
        const parts = recordTime.split(/[:.]/);
        let totalMs = 0;
        if (parts.length === 3) {
          totalMs =
            parseInt(parts[0]) * 60000 +
            parseInt(parts[1]) * 1000 +
            parseInt(parts[2]) * 10;
        } else if (parts.length === 4) {
          totalMs =
            parseInt(parts[0]) * 60000 +
            parseInt(parts[1]) * 1000 +
            parseInt(parts[2]) * 10;
        }
        totalMs = Math.floor(totalMs * 1.025);
        const mins = Math.floor(totalMs / 60000);
        const secs = Math.floor((totalMs % 60000) / 1000);
        const ms = Math.floor((totalMs % 1000) / 10);
        return `${mins}:${secs.toString().padStart(2, "0")}.${ms.toString().padStart(3, "0")}`;
      }

      function renderRecords(platform = "all") {
        const container = document.getElementById("records-grid");
        if (!container) return;

        let records = esportsData.lapRecords || [];
        if (platform !== "all") {
          records = records.filter((r) =>
            r.platform.toLowerCase().includes(platform),
          );
        }

        if (records.length === 0) {
          container.innerHTML =
            '<div style="text-align: center; padding: 40px; color: #888;"><p>No lap challenges found</p></div>';
          return;
        }

        container.innerHTML = records
          .map((r) => createRecordCardHTML(r))
          .join("");
      }

      function startChallenge(recordId) {
        const record = esportsData.lapRecords?.find((r) => r.id === recordId);
        if (record) {
          alert(
            `üèÅ Challenge Accepted!\n\nTrack: ${record.track}\nCar: ${record.car}\nPlatform: ${record.platform}\nTarget: Beat ${record.time}\n\nGood luck! Submit your time on our blog.`,
          );
        }
      }

      async function loadData() {
        try {
          const response = await fetch("./data/esports.json");
          esportsData = await response.json();

          renderEvents("all");
          renderResults();
          renderRecords("all");

          // Setup event filters
          const eventTabs = document.querySelector("#events-section .tabs");
          if (eventTabs) {
            eventTabs.querySelectorAll(".tab-btn").forEach((btn) => {
              btn.addEventListener("click", (e) => {
                eventTabs
                  .querySelectorAll(".tab-btn")
                  .forEach((b) => b.classList.remove("active"));
                e.target.classList.add("active");
                renderEvents(e.target.getAttribute("data-platform") || "all");
              });
            });
          }

          // Setup records filters
          const recordFilters = document.querySelectorAll(
            "#records-section .platform-filter",
          );
          recordFilters.forEach((btn) => {
            btn.addEventListener("click", (e) => {
              recordFilters.forEach((b) => b.classList.remove("active"));
              e.target.classList.add("active");
              renderRecords(
                e.target.getAttribute("data-record-platform") || "all",
              );
            });
          });
        } catch (error) {
          console.error("Error loading esports data:", error);
          const errorMsg =
            '<div style="text-align: center; padding: 40px; color: #f44;"><p>Error loading data</p></div>';
          document.getElementById("events-grid")?.innerHTML ||
            (document.getElementById("events-grid").innerHTML = errorMsg);
          document.getElementById("results-container")?.innerHTML ||
            (document.getElementById("results-container").innerHTML = errorMsg);
        }
      }

      document.addEventListener("DOMContentLoaded", loadData);
    </script>
  </body>
</html>
