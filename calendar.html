<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      2025-2026 Endurance Racing Calendar | WEC, IMSA, Le Mans Schedule
    </title>
    <meta
      name="description"
      content="Interactive endurance racing calendar 2025-2026. View all WEC, IMSA, ELMS, ALMS, GTWC, IGTC, 24H Series races. Filter by championship, never miss a race with our complete motorsport schedule."
    />
    <meta
      name="keywords"
      content="endurance racing calendar 2025, motorsport schedule, WEC calendar, IMSA schedule, Le Mans 2025, 24 hours racing, GT racing calendar, sports car racing events"
    />
    <meta property="og:title" content="2025-2026 Endurance Racing Calendar" />
    <meta
      property="og:description"
      content="Interactive calendar with all major endurance racing events. WEC, IMSA, Le Mans, and more."
    />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="canonical" href="https://iomotorsport.com/calendar.html" />

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "EventSchedule",
        "name": "Endurance Racing Calendar 2025-2026",
        "description": "Complete schedule of international endurance racing events",
        "publisher": {
          "@type": "Organization",
          "name": "IO Motorsport"
        }
      }
    </script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #e63946;
        --primary-light: #ff4757;
        --primary-dark: #d32f3e;
        --secondary: #1d3557;
        --accent: #f77f00;
        --accent-light: #ffa94d;
        --dark: #0a0e27;
        --light: #f8f9fa;
        --text: #2b2d42;
        --text-light: #6c757d;
        --border-light: #e0e0e0;
        --hover-bg: #fff5f5;
        --gradient-primary: linear-gradient(135deg, #e63946 0%, #ff6b6b 100%);
        --gradient-secondary: linear-gradient(135deg, #1d3557 0%, #2a4a6e 100%);
        --gradient-accent: linear-gradient(135deg, #f77f00 0%, #ffa94d 100%);
        --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
        --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
        --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);
        --shadow-xl: 0 12px 48px rgba(0, 0, 0, 0.2);
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: var(--text);
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        min-height: 100vh;
      }

      /* Navigation */
      nav {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(10, 14, 39, 0.95);
        backdrop-filter: blur(10px);
        z-index: 1000;
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
      }

      .nav-container {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 2rem;
      }

      .logo {
        font-size: 1.5rem;
        font-weight: 800;
        color: var(--primary);
        text-decoration: none;
      }

      .nav-links {
        display: flex;
        gap: 2rem;
        list-style: none;
      }

      .nav-links a {
        color: white;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      .nav-links a:hover {
        color: var(--primary);
      }

      /* Header */
      .page-header {
        background: var(--gradient-secondary);
        color: white;
        padding: 8rem 2rem 4rem;
        text-align: center;
        margin-top: 70px;
        position: relative;
        overflow: hidden;
      }

      .page-header::before {
        content: "";
        position: absolute;
        top: -50%;
        right: -10%;
        width: 500px;
        height: 500px;
        background: radial-gradient(
          circle,
          rgba(230, 57, 70, 0.15) 0%,
          transparent 70%
        );
        border-radius: 50%;
      }

      .page-header::after {
        content: "";
        position: absolute;
        bottom: -30%;
        left: -10%;
        width: 400px;
        height: 400px;
        background: radial-gradient(
          circle,
          rgba(247, 127, 0, 0.1) 0%,
          transparent 70%
        );
        border-radius: 50%;
      }

      .page-header h1 {
        font-size: clamp(2rem, 6vw, 4rem);
        font-weight: 900;
        margin-bottom: 1rem;
        position: relative;
        z-index: 1;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .page-header p.subtitle {
        font-size: clamp(1rem, 3vw, 1.2rem);
        opacity: 0.95;
        max-width: 700px;
        margin: 0 auto 2rem;
        position: relative;
        z-index: 1;
      }

      /* Legend */
      .legend {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
        margin-top: 2rem;
        position: relative;
        z-index: 1;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        background: rgba(255, 255, 255, 0.15);
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
      }

      .legend-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        display: inline-block;
      }

      .legend-dot.wec {
        background: #0066cc;
      }
      .legend-dot.imsa {
        background: #c8102e;
      }
      .legend-dot.elms {
        background: #e30613;
      }
      .legend-dot.alms {
        background: #ff9800;
      }
      .legend-dot.gtwc {
        background: #ff6b00;
      }
      .legend-dot.igtc {
        background: #7c3aed;
      }
      .legend-dot.other {
        background: #ec4899;
      }

      /* Filter Controls */
      .filter-section {
        background: white;
        padding: 2rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        position: sticky;
        top: 70px;
        z-index: 100;
      }

      .filter-container {
        max-width: 1400px;
        margin: 0 auto;
      }

      .filter-row {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        align-items: center;
        margin-bottom: 1rem;
      }

      .filter-group {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }

      .filter-label {
        font-weight: 600;
        color: var(--secondary);
        margin-right: 0.5rem;
        display: flex;
        align-items: center;
      }

      .filter-btn {
        padding: 0.5rem 1rem;
        border: 2px solid var(--border-light);
        background: white;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-weight: 500;
        font-size: 0.9rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      }

      .filter-btn:hover {
        border-color: var(--primary);
        color: var(--primary);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(230, 57, 70, 0.2);
      }

      .filter-btn.active {
        background: var(--gradient-primary);
        border-color: var(--primary);
        color: white;
        box-shadow: 0 4px 12px rgba(230, 57, 70, 0.3);
      }

      .year-toggle {
        display: flex;
        gap: 0.5rem;
        background: var(--light);
        padding: 0.3rem;
        border-radius: 30px;
      }

      .year-btn {
        padding: 0.6rem 1.5rem;
        border: none;
        background: transparent;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        color: var(--text-light);
      }

      .year-btn:hover {
        color: var(--text);
        transform: translateY(-1px);
      }

      .year-btn.active {
        background: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        color: var(--primary);
      }

      /* Main Content */
      .calendar-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 3rem 2rem;
      }

      /* Help Banner */
      .help-banner {
        background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
        border-left: 4px solid var(--primary);
        padding: 1rem 1.5rem;
        border-radius: 12px;
        margin-bottom: 2rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      .help-banner-icon {
        font-size: 1.5rem;
        flex-shrink: 0;
      }

      .help-banner-text {
        font-size: 0.95rem;
        color: var(--secondary);
        line-height: 1.5;
      }

      .help-banner strong {
        color: var(--primary);
      }

      /* Year Grid Calendar View */
      .year-calendar {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 1.5rem;
        margin-bottom: 3rem;
      }

      .month-card {
        background: white;
        border-radius: 16px;
        padding: 1.5rem;
        box-shadow: var(--shadow-sm);
        cursor: pointer;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        border: 2px solid transparent;
        position: relative;
        overflow: hidden;
      }

      .month-card::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          rgba(230, 57, 70, 0.05) 0%,
          rgba(247, 127, 0, 0.05) 100%
        );
        opacity: 0;
        transition: opacity 0.4s ease;
        pointer-events: none;
      }

      .month-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: var(--shadow-lg);
        border-color: var(--primary);
      }

      .month-card:hover::after {
        opacity: 1;
      }

      .month-card.has-events::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-primary);
        z-index: 1;
      }

      .month-card.expanded {
        grid-column: 1 / -1;
        border-color: var(--primary);
        box-shadow: var(--shadow-xl);
      }

      .month-card.expanded::after {
        opacity: 0.5;
      }

      .month-card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid var(--light);
        position: relative;
        z-index: 2;
      }

      .month-name {
        font-size: 1.5rem;
        font-weight: 800;
        background: var(--gradient-secondary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .event-count-badge {
        background: var(--gradient-primary);
        color: white;
        padding: 0.4rem 1rem;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 700;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        box-shadow: 0 2px 8px rgba(230, 57, 70, 0.3);
      }

      /* Remove pulse animation for cleaner look */
      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      .expand-icon {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        background: var(--light);
        color: var(--secondary);
        font-weight: bold;
        font-size: 1rem;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .month-card:hover .expand-icon {
        background: var(--primary);
        color: white;
        transform: scale(1.1);
      }

      .month-card.expanded .expand-icon {
        transform: rotate(180deg) scale(1.1);
        background: var(--gradient-primary);
        color: white;
      }

      /* Mini Calendar Grid */
      .mini-calendar {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 6px;
        margin-bottom: 1rem;
        position: relative;
        z-index: 2;
      }

      .mini-day-header {
        text-align: center;
        font-size: 0.7rem;
        font-weight: 700;
        color: var(--text-light);
        padding: 0.4rem 0;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .mini-day {
        aspect-ratio: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
        border-radius: 8px;
        position: relative;
        color: var(--text);
        font-weight: 500;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        background: #fafafa;
      }

      /* Color-coded event days by series */
      .mini-day.has-event {
        color: white;
        font-weight: 700;
        cursor: pointer;
        position: relative;
      }

      .mini-day.has-event.wec {
        background: #0066cc;
        box-shadow: 0 2px 6px rgba(0, 102, 204, 0.3);
      }
      .mini-day.has-event.imsa {
        background: #c8102e;
        box-shadow: 0 2px 6px rgba(200, 16, 46, 0.3);
      }
      .mini-day.has-event.elms {
        background: #e30613;
        box-shadow: 0 2px 6px rgba(227, 6, 19, 0.3);
      }
      .mini-day.has-event.alms {
        background: #ff9800;
        box-shadow: 0 2px 6px rgba(255, 152, 0, 0.3);
      }
      .mini-day.has-event.gtwc {
        background: #ff6b00;
        box-shadow: 0 2px 6px rgba(255, 107, 0, 0.3);
      }
      .mini-day.has-event.igtc {
        background: #7c3aed;
        box-shadow: 0 2px 6px rgba(124, 58, 237, 0.3);
      }
      .mini-day.has-event.mixed,
      .mini-day.has-event.other {
        background: linear-gradient(
          135deg,
          #0066cc 0%,
          #c8102e 50%,
          #e30613 100%
        );
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      }

      .mini-day.has-event:hover {
        transform: scale(1.2);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        z-index: 10;
      }

      /* Multiple events indicator */
      .mini-day.has-event.multiple::after {
        content: "‚Ä¢";
        position: absolute;
        bottom: 2px;
        right: 4px;
        font-size: 1.2rem;
        line-height: 1;
      }

      /* Status indicator on mini calendar days */
      .mini-day.has-event::before {
        content: "";
        position: absolute;
        top: 2px;
        right: 2px;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        border: 1px solid white;
      }

      .mini-day.has-event.upcoming::before {
        background: #4caf50;
      }

      .mini-day.has-event.completed::before {
        background: #f44336;
      }

      .mini-day.has-event.mixed-status::before {
        background: linear-gradient(135deg, #4caf50 0%, #f44336 100%);
      }

      .mini-day.other-month {
        color: #d0d0d0;
      }

      .mini-day.today {
        border: 2px solid var(--accent);
        font-weight: 700;
        background: rgba(247, 127, 0, 0.1);
        color: var(--accent);
      }

      .mini-day.today.has-event {
        border-color: white;
        box-shadow: 0 0 0 2px var(--accent), 0 2px 8px rgba(230, 57, 70, 0.3);
      }

      /* Event Details in Expanded Month */
      .month-events {
        display: none;
        margin-top: 1.5rem;
        padding-top: 1.5rem;
        border-top: 2px solid var(--light);
      }

      .month-card.expanded .month-events {
        display: block;
        animation: slideDown 0.3s ease;
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .month-section {
        margin-bottom: 4rem;
      }

      .month-header {
        font-size: 2rem;
        font-weight: 800;
        color: var(--secondary);
        margin-bottom: 2rem;
        padding-bottom: 0.5rem;
        border-bottom: 3px solid var(--primary);
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .event-list {
        display: grid;
        gap: 1.5rem;
      }

      .event-card {
        background: white;
        border-radius: 16px;
        padding: 1.5rem;
        box-shadow: var(--shadow-sm);
        border-left: 5px solid var(--primary);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 1.5rem;
        align-items: center;
        margin-bottom: 1rem;
        position: relative;
        overflow: hidden;
      }

      /* Event status indicator */
      .event-card.completed {
        opacity: 0.7;
      }

      .event-card.completed::before {
        background: linear-gradient(135deg, #999 0%, #666 100%);
      }

      .event-status {
        position: absolute;
        top: 1rem;
        right: 1rem;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }

      .event-status.upcoming {
        background: #4caf50;
        animation: pulse-green 2s ease-in-out infinite;
      }

      .event-status.completed {
        background: #f44336;
      }

      @keyframes pulse-green {
        0%,
        100% {
          box-shadow: 0 2px 6px rgba(76, 175, 80, 0.4);
        }
        50% {
          box-shadow: 0 2px 12px rgba(76, 175, 80, 0.8);
        }
      }

      .event-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: var(--gradient-primary);
        transition: width 0.3s ease;
      }

      .event-card:hover {
        transform: translateX(8px);
        box-shadow: var(--shadow-md);
        background: linear-gradient(to right, var(--hover-bg) 0%, white 100%);
      }

      .event-card:hover::before {
        width: 8px;
      }

      .event-date {
        text-align: center;
        min-width: 100px;
        padding: 1rem;
        background: linear-gradient(135deg, var(--light) 0%, white 100%);
        border-radius: 12px;
        border: 2px solid var(--border-light);
      }

      .date-day {
        font-size: 2.5rem;
        font-weight: 900;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1;
      }

      .date-month {
        font-size: 0.85rem;
        color: var(--text-light);
        text-transform: uppercase;
        letter-spacing: 1.5px;
        margin-top: 0.5rem;
        font-weight: 700;
      }

      .event-info {
        flex: 1;
      }

      .event-name {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--secondary);
        margin-bottom: 0.5rem;
        line-height: 1.3;
      }

      .event-location {
        color: var(--text-light);
        font-size: 0.95rem;
        margin-bottom: 0.7rem;
        display: flex;
        align-items: center;
        gap: 0.3rem;
      }

      .event-meta {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        align-items: center;
      }

      .series-badge {
        display: inline-block;
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
      }

      .badge-wec {
        background: #e6f3ff;
        color: #0066cc;
      }
      .badge-imsa {
        background: #ffe6e6;
        color: #c8102e;
      }
      .badge-elms {
        background: #fff0e6;
        color: #e30613;
      }
      .badge-alms {
        background: #fff8e6;
        color: #0066cc;
      }
      .badge-gtwc {
        background: #ffe9f0;
        color: #ff6b00;
      }
      .badge-igtc {
        background: #f0e6ff;
        color: #7c3aed;
      }
      .badge-24h {
        background: #fff9e6;
        color: #fbbf24;
      }
      .badge-classic {
        background: #f5e6ff;
        color: #ec4899;
      }

      .event-duration {
        color: #999;
        font-size: 0.85rem;
      }

      .event-actions {
        display: flex;
        gap: 0.5rem;
      }

      .event-link {
        padding: 0.6rem 1.2rem;
        background: var(--gradient-primary);
        color: white;
        text-decoration: none;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        box-shadow: 0 4px 12px rgba(230, 57, 70, 0.3);
      }

      .event-link:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(230, 57, 70, 0.4);
      }

      .add-to-calendar {
        padding: 0.6rem 1.2rem;
        background: white;
        border: 2px solid var(--border-light);
        color: var(--secondary);
        text-decoration: none;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        box-shadow: var(--shadow-sm);
      }

      .add-to-calendar:hover {
        border-color: var(--accent);
        color: var(--accent);
        background: linear-gradient(135deg, white 0%, #fff8e6 100%);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(247, 127, 0, 0.2);
      }

      .no-events {
        text-align: center;
        padding: 3rem;
        color: #999;
        font-size: 1.1rem;
      }

      /* Quick Jump Navigation */
      .quick-jump {
        position: fixed;
        right: 2rem;
        bottom: 2rem;
        z-index: 500;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .quick-jump-btn {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: var(--gradient-primary);
        color: white;
        border: none;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        box-shadow: var(--shadow-lg);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .quick-jump-btn:hover {
        transform: translateY(-5px) scale(1.1);
        box-shadow: var(--shadow-xl);
      }

      .quick-jump-btn:active {
        transform: translateY(-2px) scale(1.05);
      }

      /* Loading State */
      .loading {
        text-align: center;
        padding: 3rem;
        color: var(--text-light);
      }

      .spinner {
        width: 60px;
        height: 60px;
        border: 5px solid var(--light);
        border-top-color: var(--primary);
        border-right-color: var(--accent);
        border-radius: 50%;
        animation: spin 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
        margin: 0 auto 1rem;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Smooth entrance animations */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .year-calendar > .month-card {
        animation: fadeInUp 0.6s ease-out backwards;
      }

      .year-calendar > .month-card:nth-child(1) {
        animation-delay: 0.05s;
      }
      .year-calendar > .month-card:nth-child(2) {
        animation-delay: 0.1s;
      }
      .year-calendar > .month-card:nth-child(3) {
        animation-delay: 0.15s;
      }
      .year-calendar > .month-card:nth-child(4) {
        animation-delay: 0.2s;
      }
      .year-calendar > .month-card:nth-child(5) {
        animation-delay: 0.25s;
      }
      .year-calendar > .month-card:nth-child(6) {
        animation-delay: 0.3s;
      }
      .year-calendar > .month-card:nth-child(7) {
        animation-delay: 0.35s;
      }
      .year-calendar > .month-card:nth-child(8) {
        animation-delay: 0.4s;
      }
      .year-calendar > .month-card:nth-child(9) {
        animation-delay: 0.45s;
      }
      .year-calendar > .month-card:nth-child(10) {
        animation-delay: 0.5s;
      }
      .year-calendar > .month-card:nth-child(11) {
        animation-delay: 0.55s;
      }
      .year-calendar > .month-card:nth-child(12) {
        animation-delay: 0.6s;
      }

      /* View Toggle */
      .view-toggle {
        display: flex;
        gap: 0.5rem;
        background: var(--light);
        padding: 0.3rem;
        border-radius: 30px;
      }

      .view-btn {
        padding: 0.6rem 1.2rem;
        border: none;
        background: transparent;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        gap: 0.4rem;
        color: var(--text-light);
      }

      .view-btn:hover {
        color: var(--text);
        transform: translateY(-1px);
      }

      .view-btn.active {
        background: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        color: var(--primary);
      }

      /* Stats Section */
      .stats-section {
        background: var(--gradient-secondary);
        color: white;
        padding: 3rem 2rem;
        margin: 3rem 0;
        border-radius: 24px;
        box-shadow: var(--shadow-lg);
        position: relative;
        overflow: hidden;
      }

      .stats-section::before {
        content: "";
        position: absolute;
        top: -50%;
        right: -20%;
        width: 400px;
        height: 400px;
        background: radial-gradient(
          circle,
          rgba(247, 127, 0, 0.15) 0%,
          transparent 70%
        );
        border-radius: 50%;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        max-width: 1400px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
      }

      .stat-card {
        text-align: center;
        padding: 1.5rem;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        background: rgba(255, 255, 255, 0.15);
        transform: translateY(-5px);
      }

      .stat-number {
        font-size: 3.5rem;
        font-weight: 900;
        background: var(--gradient-accent);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      }

      .stat-label {
        font-size: 1rem;
        opacity: 0.95;
        margin-top: 0.8rem;
        font-weight: 600;
        letter-spacing: 0.5px;
      }

      /* Next Races Countdown Widget */
      .next-races-widget {
        background: white;
        border-radius: 20px;
        padding: 2rem;
        box-shadow: var(--shadow-lg);
        margin-bottom: 3rem;
      }

      .widget-header {
        display: flex;
        align-items: center;
        gap: 0.8rem;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid var(--light);
      }

      .widget-title {
        font-size: 1.5rem;
        font-weight: 800;
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .countdown-grid {
        display: grid;
        gap: 1rem;
      }

      .countdown-item {
        background: linear-gradient(135deg, #f8f9fa 0%, white 100%);
        border-radius: 16px;
        padding: 1.5rem;
        border-left: 5px solid;
        position: relative;
        transition: all 0.3s ease;
      }

      .countdown-item:hover {
        transform: translateX(5px);
        box-shadow: var(--shadow-md);
      }

      .countdown-item.wec {
        border-left-color: #0066cc;
      }
      .countdown-item.imsa {
        border-left-color: #c8102e;
      }
      .countdown-item.elms {
        border-left-color: #e30613;
      }
      .countdown-item.alms {
        border-left-color: #ff9800;
      }
      .countdown-item.gtwc {
        border-left-color: #ff6b00;
      }
      .countdown-item.igtc {
        border-left-color: #7c3aed;
      }

      .countdown-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
      }

      .countdown-event-name {
        font-size: 1.1rem;
        font-weight: 700;
        color: var(--secondary);
        line-height: 1.3;
      }

      .countdown-series-badge {
        font-size: 0.75rem;
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-weight: 700;
        color: white;
      }

      .countdown-series-badge.wec {
        background: #0066cc;
      }
      .countdown-series-badge.imsa {
        background: #c8102e;
      }
      .countdown-series-badge.elms {
        background: #e30613;
      }
      .countdown-series-badge.alms {
        background: #ff9800;
      }
      .countdown-series-badge.gtwc {
        background: #ff6b00;
      }
      .countdown-series-badge.igtc {
        background: #7c3aed;
      }

      .countdown-location {
        font-size: 0.9rem;
        color: var(--text-light);
        margin-bottom: 1rem;
      }

      .countdown-timer {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0.8rem;
        margin-top: 1rem;
      }

      .countdown-unit {
        text-align: center;
        background: white;
        padding: 0.8rem 0.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      }

      .countdown-number {
        font-size: 1.8rem;
        font-weight: 900;
        color: var(--primary);
        line-height: 1;
        display: block;
      }

      .countdown-label {
        font-size: 0.7rem;
        color: var(--text-light);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 0.3rem;
        font-weight: 600;
      }

      /* Responsive */
      @media (max-width: 968px) {
        .year-calendar {
          grid-template-columns: repeat(2, 1fr);
          gap: 1rem;
        }

        .month-card {
          padding: 1rem;
        }

        .month-name {
          font-size: 1.2rem;
        }

        .mini-day {
          font-size: 0.75rem;
        }

        .legend {
          gap: 0.5rem;
        }

        .legend-item {
          font-size: 0.8rem;
          padding: 0.4rem 0.8rem;
        }
      }

      @media (max-width: 768px) {
        nav {
          padding: 0.8rem 1rem;
        }

        .page-header {
          padding: 6rem 1.5rem 3rem;
        }

        .page-header h1 {
          font-size: 2rem;
        }

        .page-header p.subtitle {
          font-size: 0.95rem;
        }

        .legend {
          gap: 0.4rem;
        }

        .legend-item {
          font-size: 0.75rem;
          padding: 0.3rem 0.6rem;
        }

        .filter-section {
          padding: 1rem;
          top: 60px;
        }

        .event-card {
          grid-template-columns: 1fr;
          gap: 1rem;
          padding: 1rem;
        }

        .event-date {
          padding: 0.8rem;
          border-bottom: 2px solid var(--light);
          margin-bottom: 0.5rem;
        }

        .date-day {
          font-size: 2rem;
        }

        .event-name {
          font-size: 1.1rem;
        }

        .event-actions {
          justify-content: center;
          flex-wrap: wrap;
          gap: 0.5rem;
        }

        .filter-row {
          flex-direction: column;
          align-items: stretch;
          gap: 0.8rem;
        }

        .filter-group {
          justify-content: center;
        }

        .year-toggle,
        .view-toggle {
          justify-content: center;
        }

        .month-header {
          font-size: 1.3rem;
        }

        .year-calendar {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .month-card.expanded {
          grid-column: 1;
        }

        .month-card {
          padding: 1rem;
        }

        .month-card:hover {
          transform: translateY(-3px) scale(1);
        }

        .quick-jump {
          right: 1rem;
          bottom: 1rem;
        }

        .quick-jump-btn {
          width: 48px;
          height: 48px;
          font-size: 1.2rem;
        }

        .stats-section {
          padding: 2rem 1rem;
          margin: 2rem 0;
        }

        .stat-number {
          font-size: 2.5rem;
        }

        .calendar-container {
          padding: 2rem 1rem;
        }
      }

      @media (max-width: 480px) {
        .page-header h1 {
          font-size: 1.75rem;
        }

        .filter-btn {
          font-size: 0.75rem;
          padding: 0.4rem 0.7rem;
        }

        .year-btn,
        .view-btn {
          padding: 0.5rem 1rem;
          font-size: 0.85rem;
        }

        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 1rem;
        }

        .stat-number {
          font-size: 2rem;
        }

        .stat-label {
          font-size: 0.85rem;
        }

        .event-link,
        .add-to-calendar {
          padding: 0.5rem 0.9rem;
          font-size: 0.8rem;
        }

        .mini-calendar {
          gap: 4px;
        }

        .mini-day {
          font-size: 0.7rem;
        }

        .month-name {
          font-size: 1.1rem;
        }

        .event-count-badge {
          font-size: 0.75rem;
          padding: 0.3rem 0.6rem;
        }

        .expand-icon {
          width: 28px;
          height: 28px;
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <div class="nav-container">
        <a href="/" class="logo">ENDURANCE</a>
        <ul class="nav-links">
          <li><a href="/">Home</a></li>
          <li><a href="/calendar">Calendar</a></li>
          <li><a href="#championships">Championships</a></li>
          <li><a href="#blog">Blog</a></li>
        </ul>
      </div>
    </nav>

    <!-- Header -->
    <header class="page-header">
      <h1>üèÅ Racing Calendar 2025-2026</h1>
      <p class="subtitle">
        Click any month below to see race details ‚Ä¢ Color-coded by championship
      </p>
      <div class="legend">
        <div class="legend-item"><span class="legend-dot wec"></span> WEC</div>
        <div class="legend-item">
          <span class="legend-dot imsa"></span> IMSA
        </div>
        <div class="legend-item">
          <span class="legend-dot elms"></span> ELMS
        </div>
        <div class="legend-item">
          <span class="legend-dot alms"></span> ALMS
        </div>
        <div class="legend-item">
          <span class="legend-dot gtwc"></span> GTWC
        </div>
        <div class="legend-item">
          <span class="legend-dot igtc"></span> IGTC
        </div>
        <div class="legend-item">
          <span class="legend-dot other"></span> Other
        </div>
      </div>
    </header>

    <!-- Filters -->
    <div class="filter-section">
      <div class="filter-container">
        <div class="filter-row">
          <div class="year-toggle">
            <button class="year-btn active" data-year="2025">2025</button>
            <button class="year-btn" data-year="2026">2026</button>
          </div>
          <div class="view-toggle">
            <button class="view-btn active" data-view="calendar">
              üìÖ Calendar
            </button>
            <button class="view-btn" data-view="list">üìã List</button>
          </div>
        </div>
        <div class="filter-row">
          <span class="filter-label">Filter by Series:</span>
          <div class="filter-group">
            <button class="filter-btn active" data-series="all">
              All Series
            </button>
            <button class="filter-btn" data-series="wec">WEC</button>
            <button class="filter-btn" data-series="imsa">IMSA</button>
            <button class="filter-btn" data-series="elms">ELMS</button>
            <button class="filter-btn" data-series="alms">ALMS</button>
            <button class="filter-btn" data-series="gtwc">GTWC</button>
            <button class="filter-btn" data-series="igtc">IGTC</button>
            <button class="filter-btn" data-series="24h">24H Series</button>
            <button class="filter-btn" data-series="classic">Classic</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats -->
    <div class="calendar-container">
      <div class="stats-section" id="statsSection">
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-number" id="totalRaces">0</div>
            <div class="stat-label">Total Races</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalSeries">8</div>
            <div class="stat-label">Championships</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="totalCountries">0</div>
            <div class="stat-label">Countries</div>
          </div>
          <div class="stat-card">
            <div class="stat-number" id="enduranceHours">0</div>
            <div class="stat-label">Racing Hours</div>
          </div>
        </div>
      </div>

      <!-- Help Banner -->
      <div class="help-banner">
        <div class="help-banner-icon">üí°</div>
        <div class="help-banner-text">
          <strong>How to use:</strong> Tap any month card to expand and see all
          races. Event days are <strong>color-coded by championship</strong> in
          the mini calendar. Use filters above to view specific series or years.
        </div>
      </div>

      <!-- Calendar Content -->
      <div id="calendarView"></div>
      <div id="listView" style="display: none"></div>
    </div>

    <!-- Quick Jump -->
    <div class="quick-jump">
      <button
        class="quick-jump-btn"
        onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
        title="Back to top"
      >
        ‚Üë
      </button>
    </div>

    <script>
      const events = [
        // 2025 WEC
        {
          date: "2025-02-28",
          name: "Prologue Test",
          location: "Qatar",
          series: "wec",
          duration: "3 Days",
          link: "wec.html",
        },
        {
          date: "2025-03-01",
          name: "1812km of Qatar",
          location: "Lusail International Circuit",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2025-04-13",
          name: "6 Hours of Imola",
          location: "Autodromo Enzo e Dino Ferrari, Italy",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2025-05-11",
          name: "6 Hours of Spa-Francorchamps",
          location: "Circuit de Spa-Francorchamps, Belgium",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2025-06-14",
          name: "24 Hours of Le Mans",
          location: "Circuit de la Sarthe, France",
          series: "wec",
          duration: "24 Hours",
          link: "wec.html",
        },
        {
          date: "2025-07-13",
          name: "6 Hours of S√£o Paulo",
          location: "Aut√≥dromo Jos√© Carlos Pace, Brazil",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2025-09-14",
          name: "Lone Star Le Mans",
          location: "Circuit of the Americas, USA",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2025-09-21",
          name: "6 Hours of Fuji",
          location: "Fuji Speedway, Japan",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2025-11-02",
          name: "8 Hours of Bahrain",
          location: "Bahrain International Circuit",
          series: "wec",
          duration: "8 Hours",
          link: "wec.html",
        },

        // 2025 IMSA
        {
          date: "2025-01-25",
          name: "24 Hours of Daytona",
          location: "Daytona International Speedway, USA",
          series: "imsa",
          duration: "24 Hours",
          link: "imsa.html",
        },
        {
          date: "2025-03-14",
          name: "12 Hours of Sebring",
          location: "Sebring International Raceway, USA",
          series: "imsa",
          duration: "12 Hours",
          link: "imsa.html",
        },
        {
          date: "2025-04-12",
          name: "Grand Prix of Long Beach",
          location: "Streets of Long Beach, USA",
          series: "imsa",
          duration: "100 Min",
          link: "imsa.html",
        },
        {
          date: "2025-05-03",
          name: "Acura Sports Car Challenge",
          location: "Mid-Ohio Sports Car Course, USA",
          series: "imsa",
          duration: "2h40m",
          link: "imsa.html",
        },
        {
          date: "2025-05-17",
          name: "Detroit Grand Prix",
          location: "Belle Isle Street Circuit, USA",
          series: "imsa",
          duration: "100 Min",
          link: "imsa.html",
        },
        {
          date: "2025-06-28",
          name: "Sahlen's Six Hours",
          location: "Watkins Glen International, USA",
          series: "imsa",
          duration: "6 Hours",
          link: "imsa.html",
        },
        {
          date: "2025-07-06",
          name: "Canadian Tire Motorsport Park",
          location: "Mosport, Canada",
          series: "imsa",
          duration: "2h40m",
          link: "imsa.html",
        },
        {
          date: "2025-08-03",
          name: "Road America",
          location: "Elkhart Lake, USA",
          series: "imsa",
          duration: "2h40m",
          link: "imsa.html",
        },
        {
          date: "2025-09-07",
          name: "Indianapolis Motor Speedway",
          location: "Indianapolis, USA",
          series: "imsa",
          duration: "6 Hours",
          link: "imsa.html",
        },
        {
          date: "2025-10-11",
          name: "Petit Le Mans",
          location: "Road Atlanta, USA",
          series: "imsa",
          duration: "10 Hours",
          link: "imsa.html",
        },

        // 2025 ELMS
        {
          date: "2025-04-13",
          name: "4 Hours of Barcelona",
          location: "Circuit de Barcelona-Catalunya, Spain",
          series: "elms",
          duration: "4 Hours",
          link: "european-le-mans.html",
        },
        {
          date: "2025-05-11",
          name: "4 Hours of Imola",
          location: "Autodromo Enzo e Dino Ferrari, Italy",
          series: "elms",
          duration: "4 Hours",
          link: "european-le-mans.html",
        },
        {
          date: "2025-06-15",
          name: "4 Hours of Red Bull Ring",
          location: "Red Bull Ring, Austria",
          series: "elms",
          duration: "4 Hours",
          link: "european-le-mans.html",
        },
        {
          date: "2025-08-24",
          name: "4 Hours of Spa",
          location: "Circuit de Spa-Francorchamps, Belgium",
          series: "elms",
          duration: "4 Hours",
          link: "european-le-mans.html",
        },
        {
          date: "2025-09-28",
          name: "4 Hours of Monza",
          location: "Autodromo Nazionale di Monza, Italy",
          series: "elms",
          duration: "4 Hours",
          link: "european-le-mans.html",
        },
        {
          date: "2025-10-19",
          name: "4 Hours of Portim√£o",
          location: "Algarve International Circuit, Portugal",
          series: "elms",
          duration: "4 Hours",
          link: "european-le-mans.html",
        },

        // 2025 ALMS
        {
          date: "2025-02-14",
          name: "4 Hours of Dubai",
          location: "Dubai Autodrome, UAE",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },
        {
          date: "2025-02-23",
          name: "4 Hours of Sepang",
          location: "Sepang International Circuit, Malaysia",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },
        {
          date: "2025-11-30",
          name: "4 Hours of Buriram",
          location: "Chang International Circuit, Thailand",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },
        {
          date: "2025-12-14",
          name: "4 Hours of Yas Marina",
          location: "Yas Marina Circuit, UAE",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },

        // 2025 GTWC
        {
          date: "2025-04-20",
          name: "Brands Hatch Sprint",
          location: "Brands Hatch GP, UK",
          series: "gtwc",
          duration: "Sprint",
          link: "gtwc.html",
        },
        {
          date: "2025-05-04",
          name: "Magny-Cours Sprint",
          location: "Circuit de Nevers, France",
          series: "gtwc",
          duration: "Sprint",
          link: "gtwc.html",
        },
        {
          date: "2025-06-01",
          name: "Zandvoort Sprint",
          location: "Circuit Zandvoort, Netherlands",
          series: "gtwc",
          duration: "Sprint",
          link: "gtwc.html",
        },
        {
          date: "2025-06-28",
          name: "Misano Sprint",
          location: "Misano World Circuit, Italy",
          series: "gtwc",
          duration: "Sprint",
          link: "gtwc.html",
        },
        {
          date: "2025-07-27",
          name: "N√ºrburgring Sprint",
          location: "N√ºrburgring GP, Germany",
          series: "gtwc",
          duration: "Sprint",
          link: "gtwc.html",
        },
        {
          date: "2025-09-14",
          name: "Valencia Sprint",
          location: "Circuit Ricardo Tormo, Spain",
          series: "gtwc",
          duration: "Sprint",
          link: "gtwc.html",
        },
        {
          date: "2025-10-05",
          name: "Barcelona Sprint",
          location: "Circuit de Barcelona-Catalunya, Spain",
          series: "gtwc",
          duration: "Sprint",
          link: "gtwc.html",
        },

        // 2025 IGTC
        {
          date: "2025-02-02",
          name: "Bathurst 12 Hour",
          location: "Mount Panorama, Australia",
          series: "igtc",
          duration: "12 Hours",
          link: "igtc.html",
        },
        {
          date: "2025-06-28",
          name: "Spa 24 Hours",
          location: "Circuit de Spa-Francorchamps, Belgium",
          series: "igtc",
          duration: "24 Hours",
          link: "igtc.html",
        },
        {
          date: "2025-08-24",
          name: "Suzuka 10 Hours",
          location: "Suzuka Circuit, Japan",
          series: "igtc",
          duration: "10 Hours",
          link: "igtc.html",
        },
        {
          date: "2025-10-12",
          name: "Indianapolis 8 Hour",
          location: "Indianapolis Motor Speedway, USA",
          series: "igtc",
          duration: "8 Hours",
          link: "igtc.html",
        },
        {
          date: "2025-11-30",
          name: "Kyalami 9 Hour",
          location: "Kyalami Grand Prix Circuit, South Africa",
          series: "igtc",
          duration: "9 Hours",
          link: "igtc.html",
        },

        // 2025 24H Series
        {
          date: "2025-01-11",
          name: "24 Hours of Dubai",
          location: "Dubai Autodrome, UAE",
          series: "24h",
          duration: "24 Hours",
          link: "24h-series.html",
        },
        {
          date: "2025-05-15",
          name: "24 Hours of N√ºrburgring",
          location: "N√ºrburgring Nordschleife, Germany",
          series: "24h",
          duration: "24 Hours",
          link: "24h-series.html",
        },
        {
          date: "2025-07-05",
          name: "24 Hours of Spa",
          location: "Circuit de Spa-Francorchamps, Belgium",
          series: "24h",
          duration: "24 Hours",
          link: "24h-series.html",
        },

        // 2025 Classic
        {
          date: "2025-07-05",
          name: "Le Mans Classic",
          location: "Circuit de la Sarthe, France",
          series: "classic",
          duration: "3 Days",
          link: "le-mans-classic.html",
        },

        // 2026 IMSA
        {
          date: "2026-01-24",
          name: "24 Hours of Daytona",
          location: "Daytona International Speedway, USA",
          series: "imsa",
          duration: "24 Hours",
          link: "imsa.html",
        },
        {
          date: "2026-03-20",
          name: "12 Hours of Sebring",
          location: "Sebring International Raceway, USA",
          series: "imsa",
          duration: "12 Hours",
          link: "imsa.html",
        },
        {
          date: "2026-04-18",
          name: "Grand Prix of Long Beach",
          location: "Streets of Long Beach, USA",
          series: "imsa",
          duration: "100 Min",
          link: "imsa.html",
        },
        {
          date: "2026-05-02",
          name: "Acura Sports Car Challenge",
          location: "Mid-Ohio Sports Car Course, USA",
          series: "imsa",
          duration: "2h40m",
          link: "imsa.html",
        },
        {
          date: "2026-05-30",
          name: "Detroit Grand Prix",
          location: "Belle Isle Street Circuit, USA",
          series: "imsa",
          duration: "100 Min",
          link: "imsa.html",
        },
        {
          date: "2026-06-27",
          name: "Sahlen's Six Hours",
          location: "Watkins Glen International, USA",
          series: "imsa",
          duration: "6 Hours",
          link: "imsa.html",
        },
        {
          date: "2026-07-05",
          name: "Canadian Tire Motorsport Park",
          location: "Mosport, Canada",
          series: "imsa",
          duration: "2h40m",
          link: "imsa.html",
        },
        {
          date: "2026-08-02",
          name: "Road America",
          location: "Elkhart Lake, USA",
          series: "imsa",
          duration: "2h40m",
          link: "imsa.html",
        },
        {
          date: "2026-09-13",
          name: "Indianapolis Motor Speedway",
          location: "Indianapolis, USA",
          series: "imsa",
          duration: "6 Hours",
          link: "imsa.html",
        },
        {
          date: "2026-10-10",
          name: "Petit Le Mans",
          location: "Road Atlanta, USA",
          series: "imsa",
          duration: "10 Hours",
          link: "imsa.html",
        },

        // 2026 WEC
        {
          date: "2026-03-08",
          name: "1812km of Qatar",
          location: "Lusail International Circuit",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2026-04-19",
          name: "6 Hours of Imola",
          location: "Autodromo Enzo e Dino Ferrari, Italy",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2026-05-10",
          name: "6 Hours of Spa-Francorchamps",
          location: "Circuit de Spa-Francorchamps, Belgium",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2026-06-13",
          name: "24 Hours of Le Mans",
          location: "Circuit de la Sarthe, France",
          series: "wec",
          duration: "24 Hours",
          link: "wec.html",
        },
        {
          date: "2026-07-19",
          name: "6 Hours of S√£o Paulo",
          location: "Aut√≥dromo Jos√© Carlos Pace, Brazil",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2026-09-13",
          name: "Lone Star Le Mans",
          location: "Circuit of the Americas, USA",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2026-09-27",
          name: "6 Hours of Fuji",
          location: "Fuji Speedway, Japan",
          series: "wec",
          duration: "6 Hours",
          link: "wec.html",
        },
        {
          date: "2026-11-08",
          name: "8 Hours of Bahrain",
          location: "Bahrain International Circuit",
          series: "wec",
          duration: "8 Hours",
          link: "wec.html",
        },

        // 2026 ALMS
        {
          date: "2026-02-13",
          name: "4 Hours of Dubai",
          location: "Dubai Autodrome, UAE",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },
        {
          date: "2026-02-22",
          name: "4 Hours of Sepang",
          location: "Sepang International Circuit, Malaysia",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },
        {
          date: "2026-11-29",
          name: "4 Hours of Buriram",
          location: "Chang International Circuit, Thailand",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },
        {
          date: "2026-12-13",
          name: "4 Hours of Yas Marina",
          location: "Yas Marina Circuit, UAE",
          series: "alms",
          duration: "4 Hours",
          link: "asian-le-mans.html",
        },

        // 2026 Classic
        {
          date: "2026-07-11",
          name: "Le Mans Classic",
          location: "Circuit de la Sarthe, France",
          series: "classic",
          duration: "3 Days",
          link: "le-mans-classic.html",
        },
      ];

      let currentYear = 2025;
      let currentSeries = "all";
      let currentView = "calendar";

      const monthNames = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];

      const seriesLinks = {
        wec: "wec.html",
        imsa: "imsa.html",
        elms: "european-le-mans.html",
        alms: "asian-le-mans.html",
        gtwc: "gtwc.html",
        igtc: "igtc.html",
        "24h": "24h-series.html",
        classic: "le-mans-classic.html",
      };

      function getFilteredEvents() {
        return events.filter((e) => {
          const year = parseInt(e.date.split("-")[0]);
          const seriesMatch =
            currentSeries === "all" || e.series === currentSeries;
          return year === currentYear && seriesMatch;
        });
      }

      function getDaysInMonth(year, month) {
        return new Date(year, month + 1, 0).getDate();
      }

      function getFirstDayOfMonth(year, month) {
        return new Date(year, month, 1).getDay();
      }

      function renderMiniCalendar(year, month, monthEvents) {
        const daysInMonth = getDaysInMonth(year, month);
        const firstDay = getFirstDayOfMonth(year, month);

        // Group events by day with their series and status
        const eventsByDay = {};
        const today = new Date();
        today.setHours(0, 0, 0, 0);

        monthEvents.forEach((e) => {
          const day = new Date(e.date).getDate();
          const eventDate = new Date(e.date);
          eventDate.setHours(0, 0, 0, 0);
          const isUpcoming = eventDate >= today;

          if (!eventsByDay[day])
            eventsByDay[day] = { series: [], statuses: [] };
          eventsByDay[day].series.push(e.series);
          eventsByDay[day].statuses.push(isUpcoming ? "upcoming" : "completed");
        });

        const isCurrentMonth =
          today.getFullYear() === year && today.getMonth() === month;
        const currentDay = today.getDate();

        let html = '<div class="mini-calendar">';

        // Day headers
        ["S", "M", "T", "W", "T", "F", "S"].forEach((day) => {
          html += `<div class="mini-day-header">${day}</div>`;
        });

        // Empty cells before first day
        for (let i = 0; i < firstDay; i++) {
          html += '<div class="mini-day other-month"></div>';
        }

        // Days of month
        for (let day = 1; day <= daysInMonth; day++) {
          const classes = ["mini-day"];
          const dayData = eventsByDay[day];

          if (dayData) {
            classes.push("has-event");

            // Add status class
            const hasUpcoming = dayData.statuses.includes("upcoming");
            const hasCompleted = dayData.statuses.includes("completed");
            if (hasUpcoming && hasCompleted) {
              classes.push("mixed-status");
            } else if (hasUpcoming) {
              classes.push("upcoming");
            } else {
              classes.push("completed");
            }

            // If multiple events or multiple series, mark as mixed
            if (dayData.series.length > 1) {
              classes.push("multiple");
              // Check if all same series
              const uniqueSeries = [...new Set(dayData.series)];
              if (uniqueSeries.length === 1) {
                classes.push(uniqueSeries[0]);
              } else {
                classes.push("mixed");
              }
            } else {
              classes.push(dayData.series[0]);
            }
          }

          if (isCurrentMonth && day === currentDay) classes.push("today");

          html += `<div class="${classes.join(" ")}">${day}</div>`;
        }

        html += "</div>";
        return html;
      }

      function renderEventCard(event) {
        const date = new Date(event.date);
        date.setHours(0, 0, 0, 0);
        const today = new Date();
        today.setHours(0, 0, 0, 0);
        const isUpcoming = date >= today;
        const statusClass = isUpcoming ? "upcoming" : "completed";

        const day = date.getDate();
        const monthShort = monthNames[date.getMonth()].substring(0, 3);

        return `
          <div class="event-card ${statusClass}" data-series="${event.series}">
            <div class="event-status ${statusClass}" title="${
          isUpcoming ? "Upcoming" : "Completed"
        }"></div>
            <div class="event-date">
              <div class="date-day">${day}</div>
              <div class="date-month">${monthShort}</div>
            </div>
            <div class="event-info">
              <div class="event-name">${event.name}</div>
              <div class="event-location">üìç ${event.location}</div>
              <div class="event-meta">
                <span class="series-badge badge-${
                  event.series
                }">${event.series.toUpperCase()}</span>
                <span class="event-duration">‚è±Ô∏è ${event.duration}</span>
              </div>
            </div>
            <div class="event-actions">
              <a href="${event.link}" class="event-link">
                <span>Details</span> ‚Üí
              </a>
              <button class="add-to-calendar" onclick="addToCalendar('${
                event.name
              }', '${event.date}')" title="Add to calendar">
                üìÖ
              </button>
            </div>
          </div>
        `;
      }

      function renderCalendarView() {
        const filtered = getFilteredEvents();

        // Group by month
        const grouped = {};
        for (let month = 0; month < 12; month++) {
          const monthKey = `${currentYear}-${String(month + 1).padStart(
            2,
            "0"
          )}`;
          grouped[monthKey] = filtered.filter((e) => {
            const eventDate = new Date(e.date);
            return eventDate.getMonth() === month;
          });
        }

        let html = '<div class="year-calendar">';

        for (let month = 0; month < 12; month++) {
          const monthKey = `${currentYear}-${String(month + 1).padStart(
            2,
            "0"
          )}`;
          const monthEvents = grouped[monthKey] || [];
          const hasEvents = monthEvents.length > 0;

          html += `
            <div class="month-card ${
              hasEvents ? "has-events" : ""
            }" data-month="${month}" onclick="toggleMonth(${month})">
              <div class="month-card-header">
                <div class="month-name">
                  ${monthNames[month]}
                  ${
                    hasEvents
                      ? `<span class="event-count-badge">
                    <span>${monthEvents.length}</span>
                    <span>üèÅ</span>
                  </span>`
                      : ""
                  }
                </div>
                <div class="expand-icon">‚ñº</div>
              </div>
              ${renderMiniCalendar(currentYear, month, monthEvents)}
              <div class="month-events">
                ${
                  monthEvents.length > 0
                    ? monthEvents
                        .map((event) => renderEventCard(event))
                        .join("")
                    : '<p style="text-align: center; color: #999; padding: 1rem;">No events this month</p>'
                }
              </div>
            </div>
          `;
        }

        html += "</div>";
        return html;
      }

      function renderListView() {
        const filtered = getFilteredEvents();

        if (filtered.length === 0) {
          return '<div class="no-events">No events found for the selected filters.</div>';
        }

        // Group by month
        const grouped = {};
        filtered.forEach((event) => {
          const date = new Date(event.date);
          const monthKey = `${date.getFullYear()}-${String(
            date.getMonth() + 1
          ).padStart(2, "0")}`;
          if (!grouped[monthKey]) grouped[monthKey] = [];
          grouped[monthKey].push(event);
        });

        let html = "";

        Object.keys(grouped)
          .sort()
          .forEach((monthKey) => {
            const [year, month] = monthKey.split("-");
            const monthName = monthNames[parseInt(month) - 1];

            html += `
            <div class="month-section">
              <h2 class="month-header">
                <span>üìÖ</span> ${monthName} ${year}
              </h2>
              <div class="event-list">
                ${grouped[monthKey]
                  .sort((a, b) => new Date(a.date) - new Date(b.date))
                  .map((event) => renderEventCard(event))
                  .join("")}
              </div>
            </div>
          `;
          });

        return html;
      }

      function toggleMonth(month) {
        const monthCards = document.querySelectorAll(".month-card");
        const clickedCard = monthCards[month];

        // Close all other months
        monthCards.forEach((card, index) => {
          if (index !== month && card.classList.contains("expanded")) {
            card.classList.remove("expanded");
          }
        });

        // Toggle clicked month
        clickedCard.classList.toggle("expanded");
      }

      function renderCalendar() {
        const calendarView = document.getElementById("calendarView");
        const listView = document.getElementById("listView");

        if (currentView === "calendar") {
          calendarView.innerHTML = renderCalendarView();
          calendarView.style.display = "block";
          listView.style.display = "none";
        } else {
          listView.innerHTML = renderListView();
          listView.style.display = "block";
          calendarView.style.display = "none";
        }

        updateStats(getFilteredEvents());
      }

      function updateStats(filtered) {
        const totalRaces = filtered.length;
        const countries = new Set(
          filtered.map((e) => {
            const parts = e.location.split(",");
            return parts.length > 1
              ? parts[parts.length - 1].trim()
              : e.location;
          })
        );

        // Calculate total racing hours
        let totalHours = 0;
        filtered.forEach((event) => {
          const duration = event.duration.toLowerCase();
          if (duration.includes("24 hours")) totalHours += 24;
          else if (duration.includes("12 hours")) totalHours += 12;
          else if (duration.includes("10 hours")) totalHours += 10;
          else if (duration.includes("9 hours")) totalHours += 9;
          else if (duration.includes("8 hours")) totalHours += 8;
          else if (duration.includes("6 hours")) totalHours += 6;
          else if (duration.includes("4 hours")) totalHours += 4;
          else if (duration.includes("100 min")) totalHours += 1.67;
          else if (duration.includes("2h40m")) totalHours += 2.67;
        });

        document.getElementById("totalRaces").textContent = totalRaces;
        document.getElementById("totalCountries").textContent = countries.size;
        document.getElementById("enduranceHours").textContent =
          Math.round(totalHours);
      }

      function addToCalendar(eventName, eventDate) {
        // Create iCal format
        const start = new Date(eventDate);
        const end = new Date(start);
        end.setHours(end.getHours() + 6); // Default 6 hour event

        const icsContent = [
          "BEGIN:VCALENDAR",
          "VERSION:2.0",
          "BEGIN:VEVENT",
          `DTSTART:${start.toISOString().replace(/[-:]/g, "").split(".")[0]}Z`,
          `DTEND:${end.toISOString().replace(/[-:]/g, "").split(".")[0]}Z`,
          `SUMMARY:${eventName}`,
          "END:VEVENT",
          "END:VCALENDAR",
        ].join("\n");

        const blob = new Blob([icsContent], { type: "text/calendar" });
        const url = URL.createObjectURL(blob);
        const link = document.createElement("a");
        link.href = url;
        link.download = `${eventName.replace(/\s+/g, "-")}.ics`;
        link.click();
        URL.revokeObjectURL(url);
      }

      // Event Listeners
      document.querySelectorAll(".year-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".year-btn")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          currentYear = parseInt(btn.dataset.year);
          renderCalendar();
        });
      });

      document.querySelectorAll(".filter-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".filter-btn")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          currentSeries = btn.dataset.series;
          renderCalendar();
        });
      });

      document.querySelectorAll(".view-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document
            .querySelectorAll(".view-btn")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
          currentView = btn.dataset.view;
          renderCalendar();
        });
      });

      // Initial render
      renderCalendar();
    </script>
  </body>
</html>
